{"ast":null,"code":"import \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"HelloWorld\",\n  data: function data() {\n    return {\n      successMessage: \"\",\n      products: [],\n      cart: [],\n      vendas: []\n    };\n  },\n  methods: {\n    addProduct: function addProduct(product) {\n      var itemIndex = this.cart.findIndex(function (item) {\n        return item.product.id == product.id;\n      });\n\n      if (itemIndex != -1) {\n        this.cart[itemIndex].quantity++;\n      } else {\n        this.cart.push({\n          product: product,\n          quantity: 1\n        });\n      }\n    },\n    removeProduct: function removeProduct(index) {\n      this.cart.splice(index, 1);\n    },\n    sendCart: function sendCart() {\n      var _this = this;\n\n      axios.post(\"http://127.0.0.1:8000/api/carts\", this.cart).then(function (response) {\n        _this.successMessage = response.data.message;\n        _this.cart = [];\n\n        _this.onListarVendas();\n      }).catch(function (error) {\n        console.log(error.response.data);\n      });\n    },\n    onListar: function onListar() {\n      var _this2 = this;\n\n      var headers = {\n        \"Access-Control-Allow-Origin\": \"*\"\n      }; // aqui colocar url da api que consulta os produtos\n\n      var baseURI = \"http://127.0.0.1:8000/api/produtos\";\n      axios.get(baseURI, {\n        headers: headers\n      }).then(function (response) {\n        _this2.products = response.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    onListarVendas: function onListarVendas() {\n      var _this3 = this;\n\n      var headers = {\n        \"Access-Control-Allow-Origin\": \"*\"\n      }; // aqui colocar url da api que consulta os produtos\n\n      var baseURI = \"http://127.0.0.1:8000/api/vendas\";\n      axios.get(baseURI, {\n        headers: headers\n      }).then(function (response) {\n        console.log(response);\n        _this3.vendas = response.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.onListar();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACAA,oBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,wBADA;AAEAC,kBAFA;AAGAC,cAHA;AAIAC;AAJA;AAMA,GATA;AAUAC;AACAC,cADA,sBACAC,OADA,EACA;AACA,0CACA;AAAA;AAAA,OADA;;AAGA;AACA;AACA,OAFA,MAEA;AACA;AAAAA;AAAAC;AAAA;AACA;AACA,KAVA;AAWAC,iBAXA,yBAWAC,KAXA,EAWA;AACA;AACA,KAbA;AAcAC,YAdA,sBAcA;AAAA;;AACAC,YACAC,IADA,CACA,iCADA,EACA,SADA,EAEAC,IAFA,CAEA;AACA;AACA;;AACA;AACA,OANA,EAOAC,KAPA,CAOA;AACAC;AACA,OATA;AAUA,KAzBA;AA2BAC,YA3BA,sBA2BA;AAAA;;AACA;AACA;AADA,QADA,CAIA;;AACA;AAEAL,YACAM,GADA,CACAC,OADA,EACA;AAAAC;AAAA,OADA,EAEAN,IAFA,CAEA;AACA;AACA,OAJA,EAKAC,KALA,CAKA;AACAC;AACA,OAPA;AAQA,KA1CA;AA2CAK,kBA3CA,4BA2CA;AAAA;;AACA;AACA;AADA,QADA,CAIA;;AACA;AAEAT,YACAM,GADA,CACAC,OADA,EACA;AAAAC;AAAA,OADA,EAEAN,IAFA,CAEA;AACAE;AACA;AACA,OALA,EAMAD,KANA,CAMA;AACAC;AACA,OARA;AASA;AA3DA,GAVA;AAuEAM,SAvEA,qBAuEA;AACA;AACA;AAzEA","names":["name","data","successMessage","products","cart","vendas","methods","addProduct","product","quantity","removeProduct","index","sendCart","axios","post","then","catch","console","onListar","get","baseURI","headers","onListarVendas","mounted"],"sourceRoot":"src/components","sources":["HelloWorld.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"text-center\">\n      <v-col cols=\"12\">\n        <v-img\n          :src=\"require('../assets/logo-mw.png')\"\n          class=\"my-3\"\n          contain\n          height=\"200\"\n        />\n      </v-col>\n\n      <v-col class=\"mb-4\">\n        <h1 class=\"display-2 font-weight-bold mb-3\">\n          Teste Master da Web - Front\n        </h1>\n\n        <div class=\"d-flex justify-center align-center\">\n          <v-col cols=\"4\">\n            <v-card>\n              <v-card-title>Lista de Produtos</v-card-title>\n              <v-card-text>\n                <div v-for=\"(product, index) in products\" :key=\"index\">\n                  <div class=\"d-flex justify-start align-center\">\n                    <div>{{ product.name }} - R$ {{ product.preco }}</div>\n                    <v-btn\n                      class=\"ml-auto\"\n                      fab\n                      dark\n                      x-small\n                      color=\"purple\"\n                      @click=\"addProduct(product)\"\n                    >\n                      <v-icon dark> mdi-plus </v-icon>\n                    </v-btn>\n                  </div>\n                </div>\n              </v-card-text>\n            </v-card>\n          </v-col>\n\n          <v-col cols=\"4\" v-if=\"cart.length > 0\">\n            <v-card>\n              <v-card-title>Checkout</v-card-title>\n              <v-card-text>\n                <div v-for=\"(item, index) in cart\" :key=\"index\">\n                  <div class=\"d-flex justify-start align-center\">\n                    <div>\n                      {{ item.product.name }} - R$\n                      {{ item.product.preco }} (Quantidade: {{ item.quantity }})\n                    </div>\n                    <v-btn\n                      class=\"ml-auto\"\n                      fab\n                      dark\n                      x-small\n                      color=\"error\"\n                      @click=\"removeProduct(index)\"\n                    >\n                      <v-icon dark> mdi-delete </v-icon>\n                    </v-btn>\n                  </div>\n                </div>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </div>\n        <v-btn color=\"primary\" @click=\"sendCart\">Finalizar Compra</v-btn>\n      </v-col>\n    </v-row>\n    <template>\n      <!-- Resto do seu código -->\n\n      <v-snackbar\n        v-if=\"successMessage\"\n        v-model=\"successMessage\"\n        :timeout=\"3000\"\n        color=\"success\"\n        top\n        right\n      >\n        {{ successMessage }}\n      </v-snackbar>\n    </template>\n\n    <br /><br />\n    <table class=\"table table-striped\">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Preço Unitario</th>\n          <th>Quantidade</th>\n          <th>Preço total</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"venda in vendas\" :key=\"venda.id\">\n          <td>{{ venda.produtos.name }}</td>\n          <td>{{ venda.produtos.preco }}</td>\n          <td>{{ venda.quantidade }}</td>\n          <td>\n            {{\n              (parseFloat(venda.produtos.preco) * venda.quantidade)\n                .toFixed(2)\n                .replace(\".\", \",\")\n            }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"HelloWorld\",\n  data() {\n    return {\n      successMessage: \"\",\n      products: [],\n      cart: [],\n      vendas: [],\n    };\n  },\n  methods: {\n    addProduct(product) {\n      const itemIndex = this.cart.findIndex(\n        (item) => item.product.id == product.id\n      );\n      if (itemIndex != -1) {\n        this.cart[itemIndex].quantity++;\n      } else {\n        this.cart.push({ product: product, quantity: 1 });\n      }\n    },\n    removeProduct(index) {\n      this.cart.splice(index, 1);\n    },\n    sendCart() {\n      axios\n        .post(\"http://127.0.0.1:8000/api/carts\", this.cart)\n        .then((response) => {\n          this.successMessage = response.data.message;\n          this.cart = [];\n          this.onListarVendas();\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n        });\n    },\n\n    onListar() {\n      let headers = {\n        \"Access-Control-Allow-Origin\": \"*\",\n      };\n      // aqui colocar url da api que consulta os produtos\n      const baseURI = \"http://127.0.0.1:8000/api/produtos\";\n\n      axios\n        .get(baseURI, { headers: headers })\n        .then((response) => {\n          this.products = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    onListarVendas() {\n      let headers = {\n        \"Access-Control-Allow-Origin\": \"*\",\n      };\n      // aqui colocar url da api que consulta os produtos\n      const baseURI = \"http://127.0.0.1:8000/api/vendas\";\n\n      axios\n        .get(baseURI, { headers: headers })\n        .then((response) => {\n          console.log(response);\n          this.vendas = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n  mounted() {\n    this.onListar();\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}
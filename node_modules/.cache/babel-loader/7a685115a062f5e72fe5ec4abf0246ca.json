{"ast":null,"code":"import \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'HelloWorld',\n  data: function data() {\n    return {\n      successMessage: '',\n      products: [],\n      // Array de produtos recebidos do JSON\n      cart: [] // Array de produtos adicionados ao carrinho\n\n    };\n  },\n  methods: {\n    addProduct: function addProduct(product) {\n      var itemIndex = this.cart.findIndex(function (item) {\n        return item.product.id == product.id;\n      });\n\n      if (itemIndex != -1) {\n        this.cart[itemIndex].quantity++;\n      } else {\n        this.cart.push({\n          product: product,\n          quantity: 1\n        });\n      }\n    },\n    removeProduct: function removeProduct(index) {\n      this.cart.splice(index, 1);\n    },\n    sendCart: function sendCart() {\n      var _this = this;\n\n      console.log(this.cart);\n      axios.post('http://127.0.0.1:8000/api/carts', this.cart).then(function (response) {\n        console.log(response.data);\n        _this.successMessage = response.data.message;\n        _this.cart = [];\n      }).catch(function (error) {\n        console.log(error.response.data); // Trate o erro de acordo com suas necessidades\n      });\n    },\n    onListar: function onListar() {\n      var _this2 = this;\n\n      var headers = {\n        'Access-Control-Allow-Origin': '*'\n      }; // aqui colocar url da api que consulta os produtos\n\n      var baseURI = 'http://127.0.0.1:8000/api/produtos';\n      axios.get(baseURI, {\n        headers: headers\n      }).then(function (response) {\n        console.log(response);\n        _this2.products = response.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    onListarVendas: function onListarVendas() {\n      var _this3 = this;\n\n      var headers = {\n        'Access-Control-Allow-Origin': '*'\n      }; // aqui colocar url da api que consulta os produtos\n\n      var baseURI = 'http://127.0.0.1:8000/api/vendas';\n      axios.get(baseURI, {\n        headers: headers\n      }).then(function (response) {\n        console.log(response);\n        _this3.vendas = response.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.onListar();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACAA,oBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,wBADA;AAEAC,kBAFA;AAEA;AACAC,cAHA,CAGA;;AAHA;AAKA,GARA;AASAC;AACAC,cADA,sBACAC,OADA,EACA;AACA;AAAA;AAAA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AAAAA;AAAAC;AAAA;AACA;AACA,KARA;AASAC,iBATA,yBASAC,KATA,EASA;AACA;AACA,KAXA;AAYAC,YAZA,sBAYA;AAAA;;AACAC;AACAC,+DACAC,IADA,CACA;AACAF;AACA;AACA;AACA,OALA,EAMAG,KANA,CAMA;AACAH,yCADA,CAEA;AACA,OATA;AAUA,KAxBA;AA0BAI,YA1BA,sBA0BA;AAAA;;AACA;AACA;AADA,QADA,CAIA;;AACA;AAEAH;AAAAI;AAAA,SACAH,IADA,CACA;AACAF;AACA;AACA,OAJA,EAKAG,KALA,CAKA;AACAH;AACA,OAPA;AASA,KA1CA;AA2CAM,kBA3CA,4BA2CA;AAAA;;AACA;AACA;AADA,QADA,CAIA;;AACA;AAEAL;AAAAI;AAAA,SACAH,IADA,CACA;AACAF;AACA;AACA,OAJA,EAKAG,KALA,CAKA;AACAH;AACA,OAPA;AASA;AA3DA,GATA;AAsEAO,SAtEA,qBAsEA;AACA;AACA;AAxEA","names":["name","data","successMessage","products","cart","methods","addProduct","product","quantity","removeProduct","index","sendCart","console","axios","then","catch","onListar","headers","onListarVendas","mounted"],"sourceRoot":"src/components","sources":["HelloWorld.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"text-center\">\n      <v-col cols=\"12\">\n        <v-img\n          :src=\"require('../assets/logo-mw.png')\"\n          class=\"my-3\"\n          contain\n          height=\"200\"\n        />\n      </v-col>\n\n      <v-col class=\"mb-4\">\n        <h1 class=\"display-2 font-weight-bold mb-3\">\n          Teste Master da Web - Front\n        </h1>\n        \n\n    \n       <div class=\"d-flex justify-center align-center\">\n\n      <v-col cols=\"4\">\n      <v-card>\n        <v-card-title>Lista de Produtos</v-card-title>\n        <v-card-text>\n          \n            <div v-for=\"(product, index) in products\" :key=\"index\">\n              <div class=\"d-flex justify-start align-center\">\n                <div>{{ product.name }} - R$ {{ product.preco }}</div>\n                <v-btn\n                  class=\"ml-auto\"\n                  fab\n                  dark\n                  x-small\n                  color=\"purple\"\n                  @click=\"addProduct(product)\"\n                >\n                  <v-icon dark>\n                    mdi-plus\n                  </v-icon>\n                </v-btn>\n              </div>\n            </div>\n          \n        </v-card-text>\n      </v-card>\n      </v-col>\n\n      <v-col cols=\"4\"  v-if=\"cart.length > 0\">\n      <v-card>\n        <v-card-title>Checkout</v-card-title>\n        <v-card-text>\n            <div v-for=\"(item, index) in cart\" :key=\"index\">\n              <div class=\"d-flex justify-start align-center\">\n                <div>\n                  {{ item.product.name }} - R$ {{ item.product.preco }} (Quantidade: {{ item.quantity }})\n                </div>\n                <v-btn\n                  class=\"ml-auto\"\n                  fab\n                  dark\n                  x-small\n                  color=\"error\"\n                  @click=\"removeProduct(index)\"\n                >\n                  <v-icon dark>\n                    mdi-delete\n                  </v-icon>\n                </v-btn>\n              </div>\n            </div>\n             \n        </v-card-text>\n      </v-card>\n       </v-col>\n\n       \n\n       </div>\n    \n  <v-btn color=\"primary\" @click=\"sendCart\">Finalizar Compra</v-btn>\n      \n      </v-col>      \n    </v-row>\n\n\n\n    <template>\n    <!-- Resto do seu cÃ³digo -->\n  \n    <v-snackbar\n      v-if=\"successMessage\"\n      v-model=\"successMessage\"\n      :timeout=\"3000\"\n      color=\"success\"\n      top\n      right\n    >\n      {{ successMessage }}\n    </v-snackbar>\n  </template>\n\n\n\n  </v-container>\n</template>\n\n\n<script>\nimport axios from 'axios'\n  export default {\n    name: 'HelloWorld',\n    data () {\n      return {\n      successMessage: '',\n      products: [], // Array de produtos recebidos do JSON\n      cart: [] // Array de produtos adicionados ao carrinho\n    }\n  },\n  methods: {\n    addProduct(product) {\n      const itemIndex = this.cart.findIndex(item => item.product.id == product.id);\n      if (itemIndex != -1) {\n        this.cart[itemIndex].quantity++;\n      } else {\n        this.cart.push({ product: product, quantity: 1 });\n      }\n    },\n    removeProduct(index) {\n      this.cart.splice(index, 1);\n    },\n    sendCart() {\n      console.log(this.cart);\n      axios.post('http://127.0.0.1:8000/api/carts', this.cart)\n        .then(response => {\n          console.log(response.data);\n          this.successMessage = response.data.message;\n          this.cart = [];\n        })\n        .catch(error => {\n          console.log(error.response.data);\n          // Trate o erro de acordo com suas necessidades\n        });\n    },\n\n    onListar () {\n      let headers = {\n        'Access-Control-Allow-Origin': '*'\n      }\n      // aqui colocar url da api que consulta os produtos\n      const baseURI = 'http://127.0.0.1:8000/api/produtos';\n\n      axios.get(baseURI, { headers: headers })\n        .then(response => {\n          console.log(response)\n          this.products = response.data\n        })\n        .catch(error => {\n          console.log(error)\n        })\n      \n    },\n    onListarVendas() {\n      let headers = {\n        'Access-Control-Allow-Origin': '*'\n      }\n      // aqui colocar url da api que consulta os produtos\n      const baseURI = 'http://127.0.0.1:8000/api/vendas';\n\n      axios.get(baseURI, { headers: headers })\n        .then(response => {\n          console.log(response)\n          this.vendas = response.data\n        })\n        .catch(error => {\n          console.log(error)\n        })\n\n    }\n  },\n  mounted() {\n    this.onListar();\n  }\n  }\n</script>\n"]},"metadata":{},"sourceType":"module"}